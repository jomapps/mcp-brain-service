{
  "openapi": "3.0.0",
  "info": {
    "title": "MCP Brain Service WebSocket API",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "ws://brain.ft.tc",
      "description": "Production Server"
    },
    {
      "url": "ws://brain.ngrok.pro",
      "description": "Development Server"
    },
    {
      "url": "ws://localhost:8002",
      "description": "Local Server"
    }
  ],
  "channels": {
    "/": {
      "subscribe": {
        "summary": "The main channel for MCP communication.",
        "operationId": "mcpConnection",
        "messages": {
          "createCharacter": {
            "$ref": "#/components/messages/createCharacter"
          },
          "findSimilarCharacters": {
            "$ref": "#/components/messages/findSimilarCharacters"
          }
        }
      }
    }
  },
  "components": {
    "messages": {
      "createCharacter": {
        "summary": "Create a new character.",
        "payload": {
          "type": "object",
          "properties": {
            "tool": {
              "type": "string",
              "enum": ["create_character"]
            },
            "project_id": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "personality_description": {
              "type": "string"
            },
            "appearance_description": {
              "type": "string"
            }
          }
        }
      },
      "findSimilarCharacters": {
        "summary": "Find similar characters using a search query.",
        "payload": {
          "type": "object",
          "properties": {
            "tool": {
              "type": "string",
              "enum": ["find_similar_characters"]
            },
            "project_id": {
              "type": "string"
            },
            "query": {
              "type": "string"
            }
          }
        }
      }
    }
  }
}
